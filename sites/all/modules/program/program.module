<?php

include 'utilityFucntions.php';

function program_menu() {
	$items['programs'] = array(
	  'title' => 'programs',
	  'page callback' => 'program_search',
	  'access arguments' => array('access content'),
	);

	return $items;
}

function program_search() {
  $program_module_path = drupal_get_path('module', 'program');
  
  // loadjs(array(
  //     '/js/libs/listjs/dist/list.js',
  //     '/js/libs/listjs/list.pagination.js',
  //     '/js/libs/underscore.js',
  //     '/js/sieve.js',
  //     '/js/api.js',
  //     '/js/cookies.js',
  //     '/js/program.js',
  //     '/index.js'
  // ));

  loadjs(array(
      '/js/libs/listjs/dist/list.js',
      '/js/jquery.multiple-select.js',
      '/js/api.js',
      '/js/cookies.js',
      '/index.js',
      '/js/program.js',
  ));

  loadcss(array(
    '/program.css',
    '/multiple-select.css'
  ));

  return array('#markup' => '
  <div id="enrollment_notice" class="weak">
    Showing results for: <span></span> <a id="change" href="#">change</a>
  </div>
  <div id="question">
    Are you currently enrolled as a student of the University of Oregon? <br>
    <button id="yes">yes</button>
    <button id="no">no</button>
  </div>
  


  <div id="programList">
  <div id="controls">
    <input class="search" placeholder="Search" value=""/>
    <span class="weak">found:</span> <span id="found">15</span>
    <br><br>
    
    <div id="catagories">
      <select class="discipline_s" multiple data-placeholder="<span>Choose a</span> disipline">
      </select>

      <select class="country_s" multiple data-placeholder="<span>Choose a</span> country">
      </select>

      <select class="term_s" multiple data-placeholder="<span>Choose a</span> term">
      </select>

      <select class="price_s" multiple data-placeholder="<span>Choose a</span> price">
      </select>

      <select class="region_s" multiple data-placeholder="<span>Choose a</span> region">
      </select>

      <select class="type_s" multiple data-placeholder="<span>Choose a</span> program type">
      </select>
    </div>
    </div>
    <ul class="list">
      <!-- list contents are loaded ansycronously -->
    </ul>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
  ');







  return array('#markup' => '
    <div id="enrollment_notice">
      Showing results for: <span></span> <a id="change" href="#">change</a>
    </div>
    <div id="question">
      Are you currently enrolled as a student of the University of Oregon? <br>
      <button id="yes">yes</button>
      <button id="no">no</button>
    </div>

  	<div id="programs">
    
        <input class="search" placeholder="Where do you want to study?"/>
        <button class="sort" data-sort="title">
          search
        </button>
        <div class="catagories">
        filter by:' . selectFrom(array('discipline', 'term')) .'
        </div>
        <ul class="list">
        </ul>
        <br />
        <!-- results: -->
        <!-- <ul class="pag-nav">
          <li id="first"><a><</a></li>
          <li id="last"><a>></a></li>
        </ul> -->
        <ul class="pagination"> 
        </ul>
      </div>
  ');
} 


